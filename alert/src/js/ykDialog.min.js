!function(i,n){"use strict";var t=function(i){var t=function(i,t,e,a){var s=n.createElement(i);if(t)for(var l in t)"class"==l?s.className=t[l]:"id"==l?s.id=t[l]:s.setAttribute(l,t[l]);if(e)for(var l in e)s.style[l]=e[l];return a&&s.appendChild(n.createTextNode(a)),s},e=function(i,n){var n=n||{};for(var t in i)i.hasOwnProperty(t)&&("object"==typeof i[1]?(n[t]=obj[t].constructor===Array?[]:{},_deepCopty(obj[t],obj[t])):n[t]=i[t]);return n};this.config={buttons:null,skin:1,icon:null,delay:null,title:null,content:null,msg:null,style:null,inputAttr:null,width:"auto",maskOpacity:null,maskClose:!1,animate:null,delayCallback:null},i&&"object"==typeof i?this.config=e(i,this.config):this.isConfig=!0,this.body=n.body,2==this.config.skin?this.mask=t("div",{class:"yk2-dialog-container"}):this.mask=t("div",{class:"yk1-dialog-container"}),this.win=t("div",{class:"dialog-window"}),this.winHeader=t("div",{class:"dialog-header"}),this.winContent=t("div",{class:"dialog-content"},{style:this.config.style}),this.winMsg=t("div",{class:"dialog-msg"}),this.input=t("input",{class:"dialog-input"}),this.winFooter=t("div",{class:"dialog-footer"}),this.create()};t.zIndex=1e4,t.prototype={isParent:function(i,n){for(;void 0!=i&&null!=i&&"BODY"!=i.tagName.toUpperCase();){if(i==n)return!0;i=i.parentNode}return!1},animate:function(){var i=this;this.win.style["-webkit-transform"]="scale(0,0)",setTimeout(function(){i.win.style["-webkit-transform"]="scale(1,1)"},100)},create:function(){var i=this,n=this.config,e=this.win,a=this.mask,s=this.winHeader,l=this.winContent,o=this.winMsg,c=this.input,d=this.winFooter,r=this.body,u=['<div class="dialog-icon-bubble">',"<i></i>",'<i class="middle"></i>',"<i></i>","</div>"].join(""),p=['<div class="dialog-icon-loading">',"<span></span>","<span>loading</span>","</div>"].join(""),h=['<div class="dialog-icon-ok">',"<span></span>","<span>OK</span>","</div>"].join(""),f=['<div class="dialog-icon-warning">',"<span></span>","<span>warning</span>","</div>"].join("");if(t.zIndex++,this.mask.style["z-index"]=t.zIndex,this.isConfig)e.appendChild(s),a.appendChild(e),r.appendChild(a),this.animate();else{if(n.title&&(s.innerHTML=n.title,e.appendChild(s)),n.icon)switch(e.classList.add("dialog-icon-wrap"),n.icon){case"bubble":e.innerHTML=u;break;case"loading":e.innerHTML=p;break;case"ok":e.innerHTML=h;break;case"warning":e.innerHTML=f}if(n.content&&(l.innerHTML=n.content,e.appendChild(l)),n.msg&&(o.innerHTML=n.msg,e.appendChild(o)),n.style&&l.setAttribute("style",n.style),n.inputAttr){for(var g in n.inputAttr)c.setAttribute(g,n.inputAttr[g]);e.appendChild(c)}n.buttons&&(i.createButtons(d,n.buttons),e.appendChild(d)),"auto"!=n.width&&(e.style.width=n.width),null!==n.maskOpacity&&(a.style.backgroundColor="rgba(0,0,0,"+n.maskOpacity+")"),n.delay&&0!=n.delay&&setTimeout(function(t){i.close(),n.delayCallback&&n.delayCallback()},1e3*parseFloat(n.delay)),n.animate&&i.animate(),n.maskClose&&a.addEventListener("click",function(n){n.target!=a&&i.isParent(n.target,a)||i.close()},!1),a.appendChild(e),r.appendChild(a)}},close:function(){this.body.removeChild(this.mask)},createButtons:function(i,t){for(var e=this,a=0;a<t.length;++a){var s=t[a],l=s.text,o=n.createElement("button");o.className=s.color,o.innerHTML=l,s.callback&&"function"==typeof s.callback&&o.addEventListener("click",function(i,n){return function(){var n,a=e.input.value;n=a?t[i].callback(a):t[i].callback(),n&&e.close()}}(a,o),!1),i.appendChild(o)}}},i.dialog=function(i){return"object"==typeof t.instance?t.instance:(t.instance=this,new t(i))}}(window,document,void 0);